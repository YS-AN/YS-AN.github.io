---
title : Unity 동작방식
author : YS_AN
date : 2023-10-17 19:45:11 +0900
categories : [Unity, UnityInfo]
tags : [Unity, 기술면접]
---

# 유니티 이벤트 함수

|함수|설명|
|---|---|
|Awake|씬이 시작 시점(프리팹 인스턴스화 된 직후)에 각 오브젝트마다 한번씩 호출. <br/> 게임 오브젝트가 비활성 상태라면 활성화 될 때까지 호출되지 않음. |
|OnEnable|게임 오브젝트 활성화 직후 함수를 호출함. (반드시 오브젝트가 활성화 된 경우에만 수행) |
|Start|스크립트 인스턴스가 활성화된 경우 첫번째 프레임 업데이트 전에 호출됨.|
|FixedUpdate|프레임 속도와 관계없이 일정한 간격으로 두고 반복적으로 호출됨. <br/> 항상 빠른 속도로 호출하는 것을 보장하고 있음. 따라서 성능과 프레임 드랍에 영향을 받지 않아야 하는 물리적 처리와 같은 동작은 FixedUpdate에서 처리함. <br/> 호출 주기는 Project Settings에서 변경 가능함 |
|Update|프레임당 한 번 호출되며 프레임 업데이트를 위한 주요 작업을 하는 함수임|
|LateUpdate|Update가 끝난 후 프렘당 한 번 호출됨. 주로 카메라와 같이 update 후 후속 처리가 필요한 경우에 활용함.|
|OnDisable|동작이 비활성화 되거나 비활성 상태일 때 호출되는 함수|
|OnDestory|오브젝트가 제거 되지 직전 모든 프레임 업데이트를 마친 후 가장 마지막에 호출됨.|

### 이벤트 실행 순서

Awake → OnEnable → Start → FixedUupdate → Update → LateUpdate → OnDisable → OnDestory

**각 이벤트 호출 순서는 씬에 추가된 모든 오브젝트의 이벤트가 호출 된 후에 다음 이벤트로 넘어감.**
⇒ 씬에 추가된 모든 오브젝트의 Awake, OnEnable 함수가 호출 된 후에 Start, Update 등의 이벤트가 호출됨. 

### Awake VS Start
* Awake 함수는 무작위로 호출되기 때문에 다른 스크립트의 Awake에서 초기화하는 변수나 참조를 받아서 사용할 수 없다. (사용하려는 스크립트보다 먼저 초기화 될 경우 오류남) → start 이벤트는 awake와 update 사이에서 한번 호출되기 때문에 다른 스크립트에서 초기화 된 값을 받아서 사용이 가능하다. 
* 스크립트가 비활성화 된 상태에서 개체가 생성되면 Awake는 호출 되지만 Start는 호출되지 않는다. 
  (게임 오브젝트가 비활성 상태면 Awake도 호출되지 않지만 스크립트 비활성 상태에서는 호출된다.)
  * 오브젝트 활성 여부 : GameObject.SetActive : 오브젝트 자체를 숨기는 용도로 사용 가능
  * 스크립트 활성 여부 : Behaviour.enabled : 컴포넌트만 비활성화 시켜 기능을 잠시 정지하는 용도로 사용 가능 


<font color="white">
어쟀든 함수 중간에 fixedupdate를 호출하는 걸텐데.... 유니티는싱글 스레드잖아. 그럼 수행 중이던 메서드는 어떻게 하고 fixedupdate를 호출하는거지? 유니티 스케줄링 방식이 있음...
</font>

---
[Unity Documentation : 유니티 이벤트 함수 설명 참고](https://docs.unity3d.com/kr/2021.3/Manual/ExecutionOrder.html)


# 유니티 이벤트 함수 동작 방식 

보통 함수를 상속받으면 오버라이드해서 메서드를 구현하지만 유티니 스크립트를 만들 때는 오버라이드를 사용하지 않고 만듦. 
⇒ 유니티 이벤트 함수들은 특수 처리가 되어 있어 이벤트 함수가 있으면 동작하고, 없으면 동작하지 않는 방식을 사용하고 있기 때문임. 

**메시지 브로드 캐스팅 방식을 활용**
유니티는 개발할 때 클래스를 만든다고 표현하지 않고 스크립트를 만든다고 표현함. <br/>
스크립트 탈부착형식을 중시하기 때문에 내부 동작도 탈부착이 가능하도록 만들어져 있음 

 

