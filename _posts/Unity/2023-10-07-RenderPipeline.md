---
title : 렌더링 파이프라인
author : YS_AN
date : 2023-10-07 20:53:01 +0900
categories : [Unity]
tags : [Unity, 기술면접]
---

# 랜더링 파이프라인

3차원의 세계를 2차원으로 표현하는 작업으로, 각 단계를 파이프라고 부른다. 
랜더링 파이프라인의 단계를 병렬처리에 특화된 GPU를 통해 진행된다. 

[랜더링 파이프라인 순서]
입력 조립 → 정점 셰이더 → 레스터라이저 → 픽셀 셰이더 → 출력 병합 

## 입력 조립 (Input Assembler)

3D 장면의 정보를 CPU가 GPU에게 전달해 기본 도형으로 조립하는 단계이다. 

3D 장면에서 표현되는 오브젝트들은 위치, 색상 법선, UV등 정점들의 정보로 구성되어 있다. CPU는 메시를 그리기 위해 필요한 정점의 정보를 정점 버퍼 형태로 GPU에 전달하고, 정점 버퍼를 전달받은 GPU는 정점 서설자에게 저으이도니 규칙으로 정점 데이터로 조립한다.
이후 정점 데이터를 다른 파이프라인 단계에서 사용 가능하도록 삼각형과 같은 기본 도형으로 조립힌다. 

<details>
<summary markdown="span"> 
오브젝트를 삼격항으로 나누는 이유? 
</summary>
- 삼각형은 세 점으로 정의 되어 있고, 평면 상에서 간단하게 표현이 가능하다. 이는 닫시 말하면 삼각형의 정점 좌표를 계산하기 쉽다는 의미가 된다. 따라서 삼각형을 렌더링 할 대 가장 효율적으로 처리가 가능하다.
- 다양한 형상의 오브젝트를 삼격형으로 나누면 곡면 근사화가 쉽다. 삼각형은 평면에 대해 수학적 계산이 간단하며 다양한 곡면을 근사화 할 ㅜㅅ 있다. 
- 삼격형은 그룹화 되어 복잡한 형상을 간소화 할 수 있다. 삼각형 스트립(triangle strip)과 같은 방법을 사용해 연속된 삼각형을 그릴 수 있다. 이를 통해 중복을 점점 줄이고 랜더링 성능을 향상 시킬 수 있다. 
- 업계에서 표준화 된 방법으로 채택되어 왔기 때문에 대부분의 GPU나 랜더링 소프트웨어가 삼각형 렌더링에 최적화 되어 있다.
</details>

## 정점 셰이더

점들의 위치를 결정해주는 단계 
